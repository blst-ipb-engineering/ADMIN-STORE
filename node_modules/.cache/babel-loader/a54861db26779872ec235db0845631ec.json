{"ast":null,"code":"import * as actionTypes from './actionTypes';\nimport axios from 'axios';\nexport var authStart = function authStart() {\n  return {\n    type: actionTypes.AUTH_START\n  };\n};\nexport var emailValid = function emailValid(email) {\n  return {\n    type: actionTypes.EMAIL_VALID,\n    email: email\n  };\n};\nexport var emailInValid = function emailInValid() {\n  return {\n    type: actionTypes.EMAIL_INVALID\n  };\n};\nexport var authSuccess = function authSuccess(authData) {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    authData: authData\n  };\n};\nexport var passWrong = function passWrong(email) {\n  return {\n    type: actionTypes.PASS_INVALID,\n    email: email\n  };\n};\nexport var authFail = function authFail(error) {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error\n  };\n};\nexport var auth = function auth(email) {\n  var data = {\n    email: email\n  };\n  return function (dispatch) {\n    dispatch(authStart());\n    axios.post('http://localhost:8080/auth/checkemail', data).then(function (result) {\n      if (result.data.message === \"E-mail found\") {\n        dispatch(emailValid(result.data));\n      } else {\n        dispatch(emailInValid());\n      }\n    }).catch(function (err) {\n      console.log(err);\n      dispatch(authFail(err));\n    });\n  };\n};\nexport var authPassword = function authPassword(email, password) {\n  var data = {\n    email: email,\n    password: password\n  };\n  return function (dispatch) {\n    axios.post('http://localhost:8080/auth/login', data).then(function (result) {\n      if (result.data.code === 401) {\n        dispatch(passWrong(email));\n      } else {\n        console.log(result.data);\n        localStorage.setItem('token', result.data.token);\n        dispatch(authSuccess(result));\n      }\n    }).catch(function (err) {\n      console.log(err);\n      dispatch(authFail(err));\n    });\n  };\n}; // harus install redux-thunk","map":{"version":3,"sources":["/Users/bagus/Documents/GitHub/ADMIN-STORE/src/store/action/auth.js"],"names":["actionTypes","axios","authStart","type","AUTH_START","emailValid","email","EMAIL_VALID","emailInValid","EMAIL_INVALID","authSuccess","authData","AUTH_SUCCESS","passWrong","PASS_INVALID","authFail","error","AUTH_FAIL","auth","data","dispatch","post","then","result","message","catch","err","console","log","authPassword","password","code","localStorage","setItem","token"],"mappings":"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","sourcesContent":["import * as actionTypes from './actionTypes';\nimport axios from 'axios';\n\nexport const authStart = () => {\n    return {\n        type: actionTypes.AUTH_START\n    };\n};\n\nexport const emailValid = (email) => {\n    return {\n        type: actionTypes.EMAIL_VALID,\n        email: email\n    };\n}\n\nexport const emailInValid = () => {\n    return {\n        type: actionTypes.EMAIL_INVALID,       \n    };\n}\n\nexport const authSuccess = (authData) => {\n    return {\n        type: actionTypes.AUTH_SUCCESS,\n        authData: authData\n    }\n}\n\nexport const passWrong = (email) => {\n    return {\n        type: actionTypes.PASS_INVALID,\n        email:email\n    }\n}\n\nexport const authFail = (error) => {\n    return {\n        type: actionTypes.AUTH_FAIL,\n        error : error\n    }\n}\n\nexport const auth = (email) => {\n    const data = {\n        email : email\n    }\n\n    return dispatch => {\n        dispatch(authStart());\n        axios.post('http://localhost:8080/auth/checkemail', data).then(result => {            \n            if(result.data.message === \"E-mail found\"){\n                dispatch(emailValid(result.data))\n            }else{\n                dispatch(emailInValid())\n            }\n\n        }).catch(err => {\n            console.log(err);\n            dispatch(authFail(err));\n        });\n    }\n}\n\nexport const authPassword = (email,password) =>{\n    const data= {\n        email:email,\n        password :password\n    }\n\n    return dispatch => {        \n        axios.post('http://localhost:8080/auth/login', data).then(result => {                        \n            if(result.data.code === 401){\n                dispatch(passWrong(email));\n            }else{\n                console.log(result.data);\n                localStorage.setItem('token', result.data.token)\n                dispatch(authSuccess(result));\n            }\n        }).catch(err => {\n            console.log(err);\n            dispatch(authFail(err));\n        });\n    }\n};\n\n\n\n// harus install redux-thunk"]},"metadata":{},"sourceType":"module"}